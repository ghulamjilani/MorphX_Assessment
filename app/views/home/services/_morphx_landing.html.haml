- content_for(:extra_body_classes, "hidePageHeader hideDefaultHeader resetMainContainer recolorFooter")

.mx__header
  .mx__header__wrapp#stikyPanel
    .mx__header__wrapper
      .mx__header__left
        = image_tag("services/morphx/landing/Logo.png")
      .mx__header__right
        %a{href: '#V-paaS'} VPaaS
        %a{href: '#morphx'}
          Morph•
          %b x
        %a{href: '#monetization'} Monetization
        %a{href: '#benefits'} Benefits
        %a{href: '#dedicated'} Dedicated for
        -# %a{href: '#clients'} Clients
        - if !current_user
          - if params[:token].present?
            .mx__header__sign{ onClick: 'OpenSign()' }
              Sign Up
          .mx__header__log{ onClick: 'OpenLog()' }
            Log In
  #q1
    - 35.times do
      .cloud
    .mx__header__content
      .mx__header__content__left
        .mx__header__content__title
          %span.mx__header__blankLetters From Idea to Market
          %span.mx__header__filledLetters Instantly
        %span.mx__header__description Instant Video Platform as a Service
        %button.open_contact Get Started
      .mx__header__content__right
        .rocket
          = image_tag("services/morphx/landing/animatedSVG.svg")

.platform__container.section
  .space{id: 'V-paaS'}
  .platform
    .platform__title
      %h2 Out of the box
      %h2 digital media platform
      %h6 Single-tenancy & Multi-tenancy VPaaS
      %p
        = I18n.t('views.home.services.morphx_landing.powerful_video_platform', creators: I18n.t('dictionary.creators'))
    .platform__body
      .platform__tile.higherPos
        = image_tag("services/morphx/landing/tile1.png")
        %p
          Enterprise
          %br
          business
      .platform__tile.pushToTop
        = image_tag("services/morphx/landing/tile2.png")
        %p
          Global Content
          %br
          producers
      .platform__tile.higherPos
        = image_tag("services/morphx/landing/tile3.png")
        %p
          Media
          %br
          = I18n.t('dictionary.creators_upper')

      .platform__tile.pushToTop
        = image_tag("services/morphx/landing/tile4.png")
        %p
          Amateur
          %br
          = I18n.t('dictionary.creators_upper')
      .platform__tile.higherPos
        = image_tag("services/morphx/landing/tile5.png")
        %p
          Music
          %br
          Artists
      %svg
        %path{ d:"M10,10 L50,100 L90,50"}

.about__container.section
  .space{id: 'morphx'}
  .about
    .about__wrapper
      .about__body
        .amicoWrapp
          = image_tag("services/morphx/landing/amico.png")
        .amicoBody
          = image_tag("services/morphx/landing/logo-morphX.svg", class: 'morphixLogo')
          %span The first global video platform enabling new media providers
          %span and enterprises across all industries to rapidly enable
          .about__options
            .about__tile
              .about__top
                = image_tag("services/morphx/landing/camera.png")
              %p
                Live Bidirectional
                %br
                Streamed Video
            .about__spaceLetter
              %span with
            .about__tile
              .about__top
                = image_tag("services/morphx/landing/cash.png")
              %p
                Fully Integrated
                %br
                Commerce
            .about__spaceLetter
              %span and
            .about__tile
              .about__top
                = image_tag("services/morphx/landing/people.png")
              %p
                Social
                %br
                Interaction

.mx__s4.section
  .mx__s4__wrapp
    .mx__s4__content
      .mx__s4__label{"data-aos":"fade-right", "data-aos-delay":"200", "data-aos-duration":"600"}
        %span Customize your design
        %div Add various feature extensions
      .mx__s4__list
        .mx__s4__item{"data-aos":"fade-right", "data-aos-delay":"100", "data-aos-duration":"600"}
          .mx__s4__item__img
            = image_tag("services/morphx/landing/s4/1.png")
          %span
            Customizable
            %br
            Platform
        .mx__s4__item{"data-aos":"fade-right", "data-aos-delay":"150", "data-aos-duration":"600"}
          .mx__s4__item__img
            = image_tag("services/morphx/landing/s4/2.png")
          %span
            Native mobile apps
            %br
            ios/Android
        .mx__s4__item{"data-aos":"fade-right", "data-aos-delay":"200", "data-aos-duration":"600"}
          .mx__s4__item__img
            = image_tag("services/morphx/landing/s4/3.png")
          %span
            Automated video
            %br
            processing

.mx__s5.section
  .space{id: 'monetization'}
  .mx__s5__wrapp
    .mx__s5__label
      Monetization Methods
    .mx__s5__list
      .mx__s5__list__item{"data-aos":"fade-up", "data-aos-delay":"200", "data-aos-duration":"600"}
        %div
          = image_tag("services/morphx/landing/s5/1.png")
        %span Pay-Per-View
      .mx__s5__list__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
        %div
          = image_tag("services/morphx/landing/s5/2.png")
        %span Subscriptions
      .mx__s5__list__item{"data-aos":"fade-up", "data-aos-delay":"300", "data-aos-duration":"600"}
        %div
          = image_tag("services/morphx/landing/s5/3.png")
        %span Packages
      .mx__s5__list__item{"data-aos":"fade-up", "data-aos-delay":"350", "data-aos-duration":"600"}
        %div
          = image_tag("services/morphx/landing/s5/4.png")
        %span Donations
      .mx__s5__list__item{"data-aos":"fade-up", "data-aos-delay":"400", "data-aos-duration":"600"}
        %div
          = image_tag("services/morphx/landing/s5/5.png")
        %span Usage based pricing

.mx__s6.section
  .space{id: 'benefits'}
  .mx__s6__label
    Benefits
  .mx__s6__list
    .mx__s6__item.mx__s6__item__1{"data-aos":"fade-up", "data-aos-delay":"400", "data-aos-duration":"600"}
      .mx__s6__item__top
        = image_tag("services/morphx/landing/s6/1.png")
      .mx__s6__item__bottom
        .mx__s6__item__label Fast
        .mx__s6__item__text Instantly setup your Livestreaming platform, Video based Enterprise solution or Marketplace
    .mx__s6__item.mx__s6__item__2{"data-aos":"fade-down", "data-aos-delay":"400", "data-aos-duration":"600"}
      .mx__s6__item__top
        = image_tag("services/morphx/landing/s6/2.png")
      .mx__s6__item__bottom
        .mx__s6__item__label Easy
        .mx__s6__item__text Anyone, anywhere, can start a video and livestreaming based business; get their own "Netflix" or "Youtube"
    .mx__s6__item.mx__s6__item__3{"data-aos":"fade-up", "data-aos-delay":"400", "data-aos-duration":"600"}
      .mx__s6__item__top
        = image_tag("services/morphx/landing/s6/3.png")
      .mx__s6__item__bottom
        .mx__s6__item__label Flexible
        .mx__s6__item__text Build a business that suits your specific requirements; ‘pick and choose’ the features, customize the look and branding
    .mx__s6__item.mx__s6__item__4{"data-aos":"fade-down", "data-aos-delay":"400", "data-aos-duration":"600"}
      .mx__s6__item__top
        = image_tag("services/morphx/landing/s6/4.png")
      .mx__s6__item__bottom
        .mx__s6__item__label Resilient
        .mx__s6__item__text Adapt and implement new emerging technology and solutions at an accelerated pace

.mx__s7.section
  .mx__s7__label
    %span Simplifying complex video systems
    .imageText
      = image_tag("services/morphx/landing/s7/label.png")
      %span
        Instant VPaaS with complete video content lifecycle
  .mx__s7__list
    .mx__s7__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/1.png")
      .mx__s7__item__text Production
    .mx__s7__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/2.png")
      .mx__s7__item__text Distribution
    .mx__s7__item.monetization{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/3.png")
      .mx__s7__item__text Monetization
    .mx__s7__item.commutity{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/4.png")
      .mx__s7__item__text Community
    .mx__s7__item.consumption{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/5.png")
      .mx__s7__item__text Consumption
    .mx__s7__item.commutity{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/4.png")
      .mx__s7__item__text Engagement
    .mx__s7__item.management{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/7.png")
      .mx__s7__item__text Management
    .mx__s7__item.analitics{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      .mx__s7__item__img__wrapp
        .mx__s7__item__img
          = image_tag("services/morphx/landing/s7/8.png")
      .mx__s7__item__text Analytics

.mx__s8.section
  .space{id: 'dedicated'}
  .mx__s8__title
    = image_tag("services/morphx/landing/8__logo.png")
    %span
      Implement your digital business operations at massive scale with
      direct to user desktop and mobile solutions that integrate with
      your commerce solutions and existing web presence.
  .mx__s8__list
    .mx__s8__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
      = image_tag("services/morphx/landing/8__1.png")
      .mx__s8__item__content
        %span Enterprise
        .mx__s8__item__text.mx__s8__item__text__1
          Configure it for your own
          %br
          needs and goals
    .mx__s8__item{"data-aos":"fade-up", "data-aos-delay":"300", "data-aos-duration":"600"}
      = image_tag("services/morphx/landing/8__2.png")
      .mx__s8__item__content
        %span Multi-tenant Licence
        .mx__s8__item__text.mx__s8__item__text__2
          Your own marketplace for media,
          %br
          sports, games, art, you name it...
    .mx__s8__item{"data-aos":"fade-up", "data-aos-delay":"350", "data-aos-duration":"600"}
      = image_tag("services/morphx/landing/8__3.png")
      .mx__s8__item__content
        %span Service Licence
        .mx__s8__item__text.mx__s8__item__text__3
          Technical and integration services
          %br
          for your video platform

-# .mx__s10{id: 'clients'}
-#   .mx__s10__label Our clients
-#   .mx__s10__list
-#     .mx__s10__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
-#       = image_tag("services/morphx/landing/s10/1.png")
-#     .mx__s10__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
-#       = image_tag("services/morphx/landing/s10/2.png")
-#     .mx__s10__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
-#       = image_tag("services/morphx/landing/s10/3.png")
-#     .mx__s10__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
-#       = image_tag("services/morphx/landing/s10/4.png")
-#     .mx__s10__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
-#       = image_tag("services/morphx/landing/s10/5.png")
-#     .mx__s10__item{"data-aos":"fade-up", "data-aos-delay":"250", "data-aos-duration":"600"}
-#       = image_tag("services/morphx/landing/s10/6.png")


.tryIt__container.section
  .tryIt
    .tryIt__title
      %span Try it
    .tryIt__text
      %p
        See how easy it is to integrate our video solutions platform into your business catapulting
        you into the digital economy with little effort and limited ongoing operations.
      %button.open_contact Request Demo

= render 'layouts/application/talk_to_us'
- unless current_user
  = render 'layouts/application/sign_in', hide_signup: Rails.application.credentials.frontend[:landing_sign_up]
  - if display_signup?
    = render 'layouts/application/sign_up', redirect_url: wizard_v2_business_path, action_url: wizard_v2_profile_path, form_method: :put, submit_text: 'Sign up and continue'
- content_for(:after_include_javascripts) do
  = javascript_include_tag 'aos'
  = stylesheet_link_tag 'css/partials/_NOT_GLOBAL_aos'
  :javascript
    function OpenLog(){
      window.eventHub.$emit("open-modal:auth", "login")
    }
    function OpenSign(){
      window.eventHub.$emit("open-modal:auth", "sign-up", {action: 'redirect-to-wizard'})
    }
    window.onscroll = function () {
      s_top = window.pageYOffset;
      stiky = document.querySelector("#stikyPanel").offsetTop;
      if(s_top > stiky){
        document.querySelector(".mx__header__wrapp").classList.add('stiky');
        document.querySelector("body").classList.add('stiky');
      } else{
        document.querySelector(".mx__header__wrapp").classList.remove('stiky');
        document.querySelector("body").classList.remove('stiky');
      }
    };
    if(document.body.classList.contains("home-landing") && document.body.classList.contains("morphx")) {
      document.querySelector("html").classList.add("MorphxLandingAnchors")
    }
    function openContactModal() {
      $('#contactUs').modal('show');
    }
    $('.open_contact').click(openContactModal);
    let xs = [];
    for (var i = 0; i <= 1400; i++) {
      xs.push(i);
    }
    let t = 0;
    function animate() {
      let points = xs.map(x => {
          let y = 200 + 80 * Math.sin((x + t) / 40);
        return [x, y];
      })
      let path = "M" + points.map(p => {
        return p[0] + "," + p[1];
      }).join(" L");
      document.querySelector(".platform__container path").setAttribute("d", path); //
      t += 0.3;
      requestAnimationFrame(animate);
    }
    animate();

  - if current_user
    :javascript
      $(document).ready(function(){
        AOS.init();
        $('.start_wizard_login').hide()
        $(".navbar-default")[0].style["transition"] = "0.3s all"
        $(".navbar-default").show()
        $(".mx__header__container").addClass("mx__header__container__offset")
        $(".navbar-default").addClass('transparent');
        $("body").addClass('header-top');
      });
      document.querySelector("body").classList.remove("NoLogedUser")

  - else
    :javascript
      document.querySelector("body").classList.add("NoLogedUser")
      function openSignUpModal () {
        window.eventHub.$emit("open-modal:auth", "sign-up")
        // $('#signupPopup').modal('show');
        $('.start_wizard_login')
        return false;
      }
      function openSignInModal () {
        window.eventHub.$emit("open-modal:auth", "login")
        // $('#loginPopup').modal('show');
        return false;
      }

      function getParams() {
        return window.location.search.slice(1)
          .split('&')
          .reduce(function _reduce (/*Object*/ a, /*String*/ b) {
            b = b.split('=');
            a[b[0]] = decodeURIComponent(b[1]);
            return a;
          }, {});
      }

      $(document).ready(function(){
        AOS.init();
        let params = getParams()

        if(params && params.token) {
          $(".start_wizard").removeClass("hide")
          setTimeout(() => {
            window.eventHub.$emit("open-modal:auth", "sign-up", {action: 'redirect-to-wizard'})
          }, 1000)
        }

        setTimeout(() => {
          $('.start_wizard').click(openSignUpModal);
          $('.start_wizard_login').click(openSignInModal);
        }, 1500)
      })

- content_for(:after_include_javascripts) do
  = javascript_include_tag 'aos'
  = stylesheet_link_tag 'css/partials/_NOT_GLOBAL_aos'
  :javascript
    document.addEventListener('DOMContentLoaded', function(){

      function getRandomArbitrary(min, max) {
        return Math.random() * (max - min) + min;
      }
      let size = getRandomArbitrary(80, 150);
      document.querySelectorAll('.cloud').forEach((e) => {
        e.innerHTML = `<svg width="${size}" height="${size * 0.24731182795698}" viewBox="0 0 93 23" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M92.2292 22.0253C92.9375 16.9276 85.745 12.7378 80.3381 12.2989C77.7643 12.0993 75.0908 12.4884 72.6467 11.6405C67.3595 9.79493 65.2447 2.96149 60.0872 0.786764C56.2265 -0.839294 51.7873 0.607191 48.0463 2.49262C44.3054 4.37805 40.6144 6.74232 36.4345 7.01166C32.7933 7.24111 28.8529 5.89438 25.6706 7.67007C23.2964 8.98688 22.0594 11.7202 19.8747 13.3363C17.69 14.9524 14.9466 15.2417 12.303 15.3914C9.65942 15.541 6.90608 15.561 4.49193 16.6583C2.07779 17.7556 0.0826393 20.3194 0.58143 22.9331L92.2292 22.0253Z" fill="#EBEBEB"/>
          </svg>`
        e.style.cssText = `
          position: absolute;
          left: ${getRandomArbitrary(0, 2500)}px;
          top: ${getRandomArbitrary(0, window.innerHeight)}px;
          opacity: ${getRandomArbitrary(0.5, 0.9)}
          `
        setTimeout(() => {
          e.remove()
        }, 10000)
      })
      var max = 20;
      var curr = 0;
      function generate() {
        curr++;
        // if(curr > max) return;
        let tm = setTimeout(() => {
        let svg = document.createElement('div');
        svg.classList.add('cloud');
        setTimeout(() => {
          svg.remove()
        }, 10000)
        let size = getRandomArbitrary(50, 150)
        svg.innerHTML = `<svg width="${size}" height="${size * 0.24731182795698}" viewBox="0 0 93 23" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M92.2292 22.0253C92.9375 16.9276 85.745 12.7378 80.3381 12.2989C77.7643 12.0993 75.0908 12.4884 72.6467 11.6405C67.3595 9.79493 65.2447 2.96149 60.0872 0.786764C56.2265 -0.839294 51.7873 0.607191 48.0463 2.49262C44.3054 4.37805 40.6144 6.74232 36.4345 7.01166C32.7933 7.24111 28.8529 5.89438 25.6706 7.67007C23.2964 8.98688 22.0594 11.7202 19.8747 13.3363C17.69 14.9524 14.9466 15.2417 12.303 15.3914C9.65942 15.541 6.90608 15.561 4.49193 16.6583C2.07779 17.7556 0.0826393 20.3194 0.58143 22.9331L92.2292 22.0253Z" fill="#EBEBEB"/>
        </svg>`
        svg.style.cssText = `
        position: absolute;
        right: -500px;
        top: ${getRandomArbitrary(0, window.innerHeight)}px;
        opacity: ${getRandomArbitrary(0.5, 0.9)}
        `
        document.querySelector("#q1").appendChild(svg)
          generate()
        }, 200)
      }
      generate();
    });

:css
  @font-face {
    font-family: "PorticoR";
    src:url("#{asset_path("Portico/Portico_Regular.otf")}");
    font-weight: normal;
    font-style: normal;
  }
  @font-face {
    font-family: "PorticoO";
    src:url("#{asset_path("Portico/Portico_Outline.otf")}");
    font-weight: normal;
    font-style: normal;
  }
